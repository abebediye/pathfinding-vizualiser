(this["webpackJsonppathfinding-vizualiser"]=this["webpackJsonppathfinding-vizualiser"]||[]).push([[0],{48:function(n,t,e){"use strict";e.r(t);var o,i,c,r,a,s,l=e(0),u=e.n(l),f=e(16),d=e.n(f),b=e(14),j=e(15),h=Object(l.createContext)({nodes:[],setNodes:void 0}),x=null,p=null,v=100,O=function(n){n.current&&((x=n.current).width=2*window.innerWidth,x.height=2*window.innerHeight,x.style.width="".concat(window.innerWidth,"px"),x.style.height="".concat(window.innerHeight,"px"),p=x.getContext("2d"))},g=function(n){p&&x&&(p.clearRect(0,0,x.width,x.height),n.map((function(n){return m(n)})),n.map((function(n){return P(n)})),n.map((function(n){return w(n)})))},y=function(n,t){var e=Math.atan((t.y-n.y)/(t.x-n.x));return{x:n.x+Math.cos(e+(t.x-n.x<0?Math.PI:0))*v,y:n.y+Math.sin(e+(t.x-n.x<0?Math.PI:0))*v}},m=function(n){n.connectedNodes.map((function(t){if(!p||!t)return null;var e=y(n.position,t.position),o=y(t.position,n.position);return p.beginPath(),p.strokeStyle="black",p.moveTo(e.x,e.y),p.lineTo(o.x,o.y),p.stroke(),p.closePath(),null}))},w=function(n){n.connectedNodes.map((function(t){if(!p||!t)return null;var e=y(n.position,t.position),o=y(t.position,n.position);return M(o,false),M(e,false),null}))},M=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];p&&(p.beginPath(),p.arc(n.x,n.y,10,0,2*Math.PI,!0),p.fillStyle="purple",p.fill(),p.closePath(),t&&N(n))},N=function(n){p&&p.fillText("(".concat(Math.floor(n.x),",").concat(Math.floor(n.y),")"),n.x+20,n.y-20)},P=function(n){p&&(p.strokeStyle=n.isActive?"red":n.isStartNode?"green":"black",p.lineWidth=5,p.beginPath(),p.arc(n.position.x,n.position.y,v,0,2*Math.PI),p.stroke(),p.fillStyle="white",p.fill(),p.closePath(),p.font="32px roboto",p.fillText(n.isStartNode?"start".toUpperCase():n.label,n.position.x-50,n.position.y+10,v))},S=e(2),k=function(){var n=Object(l.useRef)(null),t=Object(l.useState)(!1),e=Object(b.a)(t,2),o=e[0],i=e[1],c=Object(l.useState)([]),r=Object(b.a)(c,2),a=r[0],s=r[1],u=Object(l.useContext)(h),f=u.nodes,d=u.setNodes;Object(l.useEffect)((function(){O(n),g(f)}),[f]);var x=function(n,t){return t.isActive=!0,n?a.includes(t)?Object(j.a)(a):[].concat(Object(j.a)(a),[t]):(a.map((function(n){return n.isActive=!1})),[t])},p=function(n,t){var e={position:{x:2*n,y:2*t},isStartNode:0===f.length,isActive:!1,isEndNode:!1,label:"Node ".concat(f.length+1),connectedNodes:Object(j.a)(a)};return d([].concat(Object(j.a)(f),[e])),e},v=function(n){return f.find((function(t){return Math.sqrt(Math.pow(n.x-t.position.x,2)+Math.pow(n.y-t.position.y,2))<100}))};return Object(S.jsx)("canvas",{onMouseDown:function(n){var t=n.nativeEvent,e=t.offsetX,o=t.offsetY;if(!t.ctrlKey)return f.filter((function(n){return n.isActive})).map((function(n){return n.isActive=!1})),void s([]);var c=v({x:2*e,y:2*o});c||(c=p(e,o)),s(x(t.shiftKey,c)),i(!0),g(f)},onMouseUp:function(){g(f),i(!1),console.log("activeNodes up"),console.log(a.map((function(n){return null===n||void 0===n?void 0:n.label})))},onMouseMove:function(n){var t=n.nativeEvent;if(o){var e=t.offsetX,i=t.offsetY;a&&(a.map((function(n){return n?(n.position.x=2*e,n.position.y=2*i,null):null})),g(f),console.log("activeNodes move"),console.log(a.map((function(n){return null===n||void 0===n?void 0:n.label}))))}},ref:n})},C=e(6),A=e(7),I=A.b.header(o||(o=Object(C.a)(["\n    display: flex;\n    flex-direction: row;\n    padding: 1rem;\n    background-color: #231728;\n    color: #f8f8f7;\n    align-items: center;\n    justify-content: center;\n    white-space: nowrap;\n"]))),T=A.b.div(i||(i=Object(C.a)(["\n    display: flex;\n    align-items: center;\n    text-transform: uppercase;\n    flex: 1;\n\n    padding: 0.5rem;\n    border: 1px solid #bb76a5;\n    & :first-child {\n        margin: 0 1rem;\n    }\n\n    :hover {\n        outline: none;\n        border-color: #bb76a5;\n        box-shadow: 0 0 10px #bb76a5;\n    }\n"]))),E=A.b.div(c||(c=Object(C.a)(["\n    flex: 4;\n\n    display: flex;\n    justify-content: center;\n\n    & > * {\n        margin-left: 2rem;\n    }\n"]))),F=A.b.div(r||(r=Object(C.a)(["\n    flex: 1;\n\n    display: flex;\n    justify-content: flex-start;\n\n    & > * {\n        margin-left: 1rem;\n    }\n\n    & > * :hover {\n        color: green;\n    }\n"]))),z=e(33),W=e.n(z),B=e(62),D=e(29),H=e.n(D),J=e(30),K=e.n(J),L=e(28),R=e.n(L),U=e(27),X=e.n(U),Y=function(){var n=Object(l.useContext)(h),t=n.nodes,e=n.setNodes;return Object(S.jsxs)(F,{children:["Nodes: ".concat(t.length),Object(S.jsx)(X.a,{}),Object(S.jsx)(R.a,{onClick:function(){e([])}}),Object(S.jsx)(H.a,{}),Object(S.jsx)(K.a,{})]})},q=e(31),V=e.n(q),G=e(32),Q=e.n(G),Z=function(){return Object(S.jsxs)(E,{children:[Object(S.jsx)(V.a,{}),Object(S.jsx)(Q.a,{})]})},$=function(){return Object(S.jsxs)(I,{children:[Object(S.jsxs)(T,{children:[Object(S.jsx)(W.a,{}),Object(S.jsx)(B.a,{variant:"h6",component:"h6",children:" Pathfinding Vizualiser "})]}),Object(S.jsx)(Z,{}),Object(S.jsx)(Y,{})]})},_=A.b.div(a||(a=Object(C.a)(["\n    width: 100vw;\n    height: 100vh;\n    overflow: hidden;\n\n    display:flex;\n    flex-direction: column;\n"]))),nn=function(){var n=Object(l.useState)([]),t=Object(b.a)(n,2),e=t[0],o=t[1];return Object(S.jsx)(_,{children:Object(S.jsxs)(h.Provider,{value:{nodes:e,setNodes:o},children:[Object(S.jsx)($,{}),Object(S.jsx)(k,{})]})})},tn=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,63)).then((function(t){var e=t.getCLS,o=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;e(n),o(n),i(n),c(n),r(n)}))},en=Object(A.a)(s||(s=Object(C.a)(["\n    body {\n        padding: 0;\n        margin: 0 ;\n    }\n"])));d.a.render(Object(S.jsxs)(u.a.StrictMode,{children:[Object(S.jsx)(nn,{}),Object(S.jsx)(en,{})]}),document.getElementById("root")),tn()}},[[48,1,2]]]);
//# sourceMappingURL=main.8aafe469.chunk.js.map